(this.webpackJsonpwhether=this.webpackJsonpwhether||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(6),a=n.n(s),i=(n(11),n(12),n(2)),o=n(3),j=n.n(o),l=n(5),b=n(0),u=r.a.createContext(),d=function(e){var t=e.children,n=Object(c.useState)(!0),r=Object(i.a)(n,2),s=r[0],a=r[1],o=Object(c.useState)(""),d=Object(i.a)(o,2),h=d[0],g=d[1],p=Object(c.useState)(null),O=Object(i.a)(p,2),x=O[0],m=O[1],f=Object(c.useState)(null),w=Object(i.a)(f,2),v=w[0],k=w[1],S=Object(c.useState)(null),y=Object(i.a)(S,2),M=y[0],C=y[1],N=Object(c.useState)(""),D=Object(i.a)(N,2),F=D[0],P=D[1],I=Object(c.useState)(""),E=Object(i.a)(I,2),L=E[0],T=E[1];function _(e){switch(e){case"Mist":case"Dust":case"Fog":case"Sand":case"Ash":case"Squall":case"Tornado":case"Haze":T({one:"rgb(88, 85, 66)",two:"rgb(161, 142, 90)"});break;case"Rain":T({one:"rgb(26, 53, 83)",two:"rgb(57, 76, 116)"});break;case"Clouds":T({one:"rgb(116, 126, 158)",two:"rgb(122, 145, 175)"});break;case"Clear":T({one:"rgb(77, 88, 255)",two:"rgb(214, 237, 255)"});break;case"Smoke":T({one:"rgb(49, 49, 49)",two:"rgb(48, 48, 48)"});break;case"Thunderstorm":T({one:"rgb(41, 44, 71)",two:"rgb(65, 20, 66)"});break;case"Drizzle":T({one:"rgb(179, 255, 245)",two:"rgb(52, 51, 92)"});break;case"Snow":T({one:"rgb(240, 240, 240)",two:"rgb(146, 146, 146)"});break;default:T({one:"rgb(0, 17, 19)",two:"rgb(0, 17, 19)"})}}var z=function(){var e=Object(l.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a(!0),e.next=5,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(h,"&appid=5d2aba5a660006ca5936ff57f5905f9e"));case 5:return n=e.sent,e.next=8,n.json();case 8:200==(c=e.sent).cod?(C(""),m(c),_(c.weather[0].main),a(!1),P("".concat(h," whether forecast")),g("")):(C({status:c.cod,message:c.message}),g(""),a(!1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();window.addEventListener("load",(function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){k({latitude:e.coords.latitude,longitude:e.coords.longitude})})):(C({message:"Geolocation is not supported by this browser"}),a(!1))}));var H=function(){var e=Object(l.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&appid=5d2aba5a660006ca5936ff57f5905f9e"));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,m(c),_(c.weather[0].main),a(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){v&&H(v)}),[v]),Object(b.jsx)(u.Provider,{value:{loading:s,data:x,input:h,error:M,heading:F,handleInput:function(e){g(e.target.value)},handleSubmit:z,weathercolor:L},children:t})},h=function(){return Object(c.useContext)(u)},g=function(){var e=h().error;return Object(b.jsxs)("div",{className:"error",children:[e.status&&Object(b.jsx)("h1",{children:e.status}),Object(b.jsx)("p",{children:e.message})]})},p=function(){console.log("forecast render");var e=h(),t=e.loading,n=e.data,c=e.error,r=e.heading,s=e.weathercolor;if(t)return Object(b.jsx)("section",{className:"loading-container",children:Object(b.jsx)("div",{className:"loading"})});if(c)return Object(b.jsx)(g,{});var a=n.main,o=n.sys,j=n.visibility,l=n.weather,u=n.wind.speed,d=a.feels_like,p=a.humidity,O=a.pressure,x=a.temp,m=a.temp_max,f=a.temp_min,w=o.sunrise,v=o.sunset,k=Object(i.a)(l,1)[0],S=k.description,y=k.icon,M=(k.main,new Date(1e3*w).getHours()),C=new Date(1e3*w).getMinutes(),N=new Date(1e3*v).getHours(),D=new Date(1e3*v).getMinutes();return M>12&&(M-=12),N>12&&(N-=12),Object(b.jsxs)(b.Fragment,{children:[!c&&Object(b.jsx)("h1",{className:"heading",children:r}),Object(b.jsx)("div",{className:"forecast-container",children:Object(b.jsxs)("section",{children:[Object(b.jsxs)("article",{style:{backgroundImage:"linear-gradient(to right,".concat(s.one,",").concat(s.two,")")},children:[Object(b.jsxs)("div",{className:"upper-grid",children:[Object(b.jsxs)("p",{children:[Math.round(x-273.15),Object(b.jsx)("sup",{children:Object(b.jsx)("span",{children:"\xb0C"})})]}),Object(b.jsx)("img",{src:"https://openweathermap.org/img/w/".concat(y,".png"),alt:"whether-icon"})]}),Object(b.jsx)("p",{className:"desc",children:S}),Object(b.jsxs)("div",{className:"max-min-container",children:[Object(b.jsxs)("h4",{children:["Min ",Math.round(f-273.15),"\xb0"]}),Object(b.jsxs)("h4",{children:["Max ",Math.round(m-273.15),"\xb0"]})]})]}),Object(b.jsxs)("article",{children:[Object(b.jsx)("img",{src:"images/shirt.png",alt:"feels_like"}),Object(b.jsxs)("p",{children:[Math.round(d-273.15),"\xb0"]}),Object(b.jsx)("p",{children:"Feels Like"})]}),Object(b.jsxs)("article",{children:[Object(b.jsx)("img",{src:"images/compass.png",alt:"wind"}),Object(b.jsxs)("p",{children:[Math.round(3.16*u),Object(b.jsx)("sup",{children:"kmph"})]}),Object(b.jsx)("p",{children:"Wind"})]}),Object(b.jsxs)("article",{children:[Object(b.jsx)("img",{src:"images/sunrise.png",alt:"sunrise"}),Object(b.jsx)("p",{children:"sunrise at"}),Object(b.jsxs)("p",{children:[M," : ",C," AM"]})]}),Object(b.jsxs)("article",{children:[Object(b.jsx)("img",{src:"images/sunset.png",alt:"sunset"}),Object(b.jsx)("p",{children:"sunset at"}),Object(b.jsxs)("p",{children:[N," : ",D," PM"]})]}),Object(b.jsxs)("article",{children:[Object(b.jsx)("img",{src:"images/thermometer.png",alt:"pressure"}),Object(b.jsxs)("p",{children:[O,Object(b.jsx)("sup",{children:"mbar"})]}),Object(b.jsx)("p",{children:"Pressure"})]}),Object(b.jsxs)("article",{children:[Object(b.jsx)("img",{src:"images/humidity.png",alt:"humidity"}),Object(b.jsxs)("p",{children:[p,"%"]}),Object(b.jsx)("p",{children:"humidity"})]}),Object(b.jsxs)("article",{children:[Object(b.jsx)("img",{src:"images/car.png",alt:"visibility"}),Object(b.jsxs)("p",{children:[Math.round(j/1609.344),Object(b.jsx)("sup",{children:"miles"})]}),Object(b.jsx)("p",{children:"Visibility"})]})]})})]})},O=function(){var e=h(),t=e.handleSubmit,n=e.handleInput,c=e.input;return console.log("serach render"),Object(b.jsx)("section",{className:"form-container",children:Object(b.jsxs)("form",{action:"#",onSubmit:t,children:[Object(b.jsx)("input",{placeholder:"Enter a city name",value:c,onChange:function(e){return n(e)},type:"text"}),Object(b.jsx)("button",{type:"submit",children:"Search"})]})})};var x=function(){return Object(b.jsxs)("main",{children:[Object(b.jsx)(O,{}),Object(b.jsx)(p,{})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(d,{children:Object(b.jsx)(x,{})})}),document.getElementById("root")),m()}},[[15,1,2]]]);
//# sourceMappingURL=main.4b241891.chunk.js.map